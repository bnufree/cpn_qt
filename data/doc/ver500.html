<!DOCTYPE html>
<html lang="en">
  <head>
   <title>OpenCPN Version 5.0.0</title>
        <!-- Meta -->
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="What's new in OpenCPN version 5.0. Released March 2019.">
        <meta name="author" content="OpenCPN Team">
  </head>

  <body>

    

        <div class="container mtb">
            <div class="row">

                  <div class="col-lg-8 col-lg-offset-2 col-md-10</li>
  col-md-offset-1"><br>
	 
		 		<h1>OpenCPN version 5.0</h1>
		 		<br>

<h3 class="ctitle">OpenCPN version 5.0</h3>	
Released: March 2019<br>
	   <h4>What's New in V5</h4>
	   
 

<h4>The new version is a major update in both looks and features.&nbsp;  It introduces some very powerful tools – split, or dual, chart panels and saved configurations in form of templates. &nbsp; 
<h5>Here, we'll get you acquainted with the main news in OpenCPN version5.</h4></p>

<img src="50info/intro1.jpg" alt="" title="" /><br>
<p>
There are a few obvious changes as soon as you start and view the screen.<br>
There are now 2 toolbars, here seen in a contracted view.&nbsp;  The global Toolbar in the upper left corner, activated by clicking it, and the Chart Panel Bar, also called the Canvas Bar, in the lower right corner, activated by clicking the icon with 3 horizontal bars.&nbsp;   O5 can, as an option, be used with two different chart panels at the same time, each one with it's own toolbar for panel options.<br>


Note that the previous option to use a simplified scale-bar, now is default.&nbsp;  See lower left corner.<br>
More about using two chart-panels later.</p><br>

<h4>The Main Toolbar</h4>

<img src="50info/maintool1.jpg" alt="" title="" /><br><br>

<p>The Main Toolbar to the left is similar to the old 4.8 version, with a different look.&nbsp;  The idea is that all the settings that changes infrequently are gathered here. &nbsp;  Quite a few buttons are gone, and you can now mostly find them in the chart-panels setting options. &nbsp; Gone are the buttons for Zooming, Auto Follow, Vector chart Text, AIS and the tidal buttons.<br><br> 
The Zoom in/out buttons and the autofollow buttons and the AIS button are now in the Chart Panel Bar in the lower right corner.&nbsp;  The “Shift to Larger/Smaller Scale Charts” buttons  are gone for good.<br> 
Buttons for plugins ends up in the Main Toolbar, that expands to two columns, as necessary.<br>
Right clicking on the Main Toolbar enables selection of what icons to show, same as in 4.8<br>
There is no option to revert to the old style Toolbar.</p><br>

<h4>Chart Panel Bar</h4>
<p>The Chart Panel Bar contains zoom in/out button the chart scale, the Autofollow button and the icon to  expand the Chart Panel Options sidebar.<br><br>

The Autofollow button looks and works differently.&nbsp;  There are three different versions of this button, depending on what features that are active.<br>

<img src="50info/cpb2.jpg" alt="" title="" /><br>

This is the standard no-follow mode that you will see if Autofollow is not activated.&nbsp;  OpenCPN will revert to this mode if Autofollowing is active but you move the chart in such way that Own Ship ends up outside the Chart Panel.&nbsp;  In other words, Autofollowing will then be turned off.&nbsp; 

<img src="50info/cpb3.jpg" alt="" title="" /><br>

This is what you see if Chart Panel Options ? Look Ahead Mode is active.&nbsp;  This corresponds to the 4.8 Look Ahead Mode.&nbsp;  One difference is that Autofollow will not be turned off if you move the chart with the cursor, as long as Own Ship is still visible.&nbsp;  In this case the Own Ship Icon will auto revert to it's original position on the screen.<br>

<img src="50info/cpb1.jpg" alt="" title="" /><br>
This mode is a more general version of the old Look Ahead mode.&nbsp;  Just Left Click and grab the canvas and move the boat to were you want it on the screen, and it will stay there.</p><br>

<h4>Chart Panel Options</h4>

<p>The Chart Panel Options contains well known options, that earlier were found in the different tabs in “Options” or in the Toolbar itself.&nbsp;  Note that the former vector chart text button has moved here as an option.&nbsp;  See Vector charts ? Show Text.&nbsp;   The “Mariner's Standard” vector charts display category has changed name to “User Standard”.</p><br>

<h4>Options</h4>

<p>The wrench (spanner) icon is gone and replaced by the standard cogwheel.<br>
Many settings in Options are now moved to the “Chart Panel Options” side bar, with the same function as in the 4.8 releases.&nbsp;  There are also a number of new options available.<br>
 
The Options-Display-General Tab: The “Preserve scale when switching charts” option does not exist in O5 as it is now default behavior.<br><br>

<img src="50info/odg1.jpg" alt="" title="" /><br>

<p>There is a new section called Canvas Layout.&nbsp;  This is where you can split the screen in two panels, or canvases.&nbsp;  To change to a view where you can see two charts at the same time, just click the split view icon and press “OK”.&nbsp;  The chart you were viewing earlier will be in the left panel.&nbsp;  The right panel will, to start with, contain a small scale view of the same area using your first chart group, if possible;&nbsp; otherwise the background map.&nbsp;  Choose charts for the individual panels the same way as you did in 4.8.<br>

<br><img src="50info/odg3.jpg" alt="" title="" /><br><br>

Each Chart Panel has it's own Canvas Bar and all the Chart Panel Options can be set individually for each displayed chart.&nbsp;  The size of the two panels can easily be adjusted by just grabbing the black vertical bar between the panels with the cursor + left Click, and move left or right.<br>

There is always an “Active Panel” where, for example, keyboard input  works.&nbsp;   It is marked by a narrow horizontal blue bar at the top of the panel that is active.&nbsp;  To make a panel active, left- or right-click somewhere on the panels canvas.&nbsp;  Hitting the “Tab” key will change which panel is active as well.<br>

In multi-canvas mode, the first left-click on an inactive canvas will just change the focus.&nbsp;  After that, left-clicks will center the canvas on the click point as usual.<br>

The easiest practical way to change between single and dual panel in an organized way is to use “Templates”.&nbsp;  Read on!</p><br>

<h4>The Options-Display-Advanced Tab</h4>

<p>Four options are canceled:<br>

* Disable Full Screen Quilting<br>
* Suppress blur/fog effects on overzoom<br>
* Suppress scaled vector charts on overzoom<br>
* Enable Transparent Toolbar is removed.&nbsp; This option is not relevant for V5.0.&nbsp; Use the toolbar AutoHide option instead.<br>
<br>

<h4>The Options-Display-Templates Tab</h4>


<p>Templates is a new and powerful concept in OpenCPN.&nbsp; There are a lot of options and settings in OpenCPN.&nbsp;  Some of these may need changing as your navigation area and conditions change.<br> <br>
Imagine that you have proceeded along the US Intracoastal Waterway – ICW for a few days using vector charts, with adjusted settings for shallow depth, course up display and AIS alarms, just as examples.&nbsp;  Heading out through a pass for an overnight offshore passage you find those settings unsuitable and you try to remember what settings you used to have when offshore.  Do you remember them all?&nbsp;  Have you written them down, or do you have to start from scratch again?&nbsp; 
Templates solves the problem and you just have to switch from your “ICW” template to your prepared “Offshore” template as you clear the pass.<br>
This was just an example to get you started.&nbsp;  The possibilities are endless.<br><br>

<h5>So what settings are included in templates?</h5>
<ul>
    <li> Display single or dual chart panel option.</li>
    <li> Every option in the “Chart Panel Options” sidebar, for each canvas.</li>
    <li> Options-Ships-AIS Targets </li>
    <li> All options in the Vector Chart Display Tab.</li>
    <li> All settings in User Interface, except Fonts.</li>
</ul> 

<br>
<h5>What's not included?</h5>
Generally hardware related settings and data that may originate from external sources and varies from one installation to another.&nbsp; The best example of the latter is charts and layers.<br>
    <ul>
    <li>Screen-width and OpenGL settings<br></li>
    <li>	What charts you have installed.<br</li>
    <li>	Chart view specifics.&nbsp; Allows better compatibility between users.<br></li>
    <li>    Routes/Waypoints including settings in Options-Ships-Routes/Points<br></li>
    <li>    Layers, and layer visibility.<br></li>
    <li>    AIS target MMSI cache.<br></li>
    <li>Settings in Options-Plugins	<br></li>
    <li>Settings in Options-Connections<br></li>
    <li>Font settings<br><br></li>
</ul> 


<img src="50info/conf1.jpg" alt="" title="" /><br><br>

To create a new template/configuration press the “Create Config...” button in the “Templates” tab.&nbsp; 
But ... only do that after you have set all the options that you want included in the new template.&nbsp; 
A template is a named snapshot of how OpenCPN is configured at the moment of creation, that is saved for future use.<br><br>
<img src="50info/conf2.jpg" alt="" title="" /><br><br>

Give the new configuration a suitable name and description.<br>
From experience, it pays off to be organized and use clearly understandable names and very clear descriptions.&nbsp;  So clear that you understand your own intentions at 3 am being very tired, and experiencing a high and confusing sea.<br>

To activate a configuration, simply press a template in the list and press “Apply Selected Config” +
“OK”.&nbsp;  Nothing stops you from further adjusting settings as usual.<br>

<br><img src="50info/conf3.jpg" alt="" title="" /><br><br>

If all goes wrong when creating a template there is a default “Recovery Template” that takes you back to a safe and reasonable state.<br>

<br><img src="50info/conf4.jpg" alt="" title="" /><br><br>

Above the list of templates there an area called “Template Status“ which will tell the name of the last applied configuration.<br><br>

<h4>Export and Import of Templates</h4>


Templates are designed to be exchangeable between users.<br>
The idea is, for example, to be able to help friends and giving a teacher of a course in OpenCPN, a chance to give all participants the same settings.&nbsp; Just to start with.&nbsp; Many other scenarios are, of course, possible.<br>
<br><img src="50info/config1.jpg" alt="" title="" /><br><br>

Templates are stored in the "Configs" directory, typically located at the C:\ProgramData\opencpn\ in Windows 10.&nbsp; In Linux it's found in /home/"username"/.opencpn.&nbsp; each template consists of a file named similar to this: "OCPNTemplate-lots of numbers.conf"<br>

<br><img src="50info/config2.jpg" alt="" title="" /><br><br>

Each template also has an entry in the "configs.xml" file.&nbsp; See the blue highlighted text above.<br>
The entry starts with <pre><code>"&LTconfig GUID=" and ends with "/&GT"</code></pre>
<p>
To move a template from computer A to computer B:<br>
1.&nbsp; Copy the "OCPNTemplate-lots of numbers.conf" file in computer A.<br>
2.&nbsp; Paste it into the "Configs" directory on computer B.<br>
3.&nbsp; Copy the templates entrance in the "configs.xml" on computer A.&nbsp; See the highlighted blue area above.&nbsp; Make sure that the entry "templateFile=" is the same as in the name of the file you copied in 1.<br>
4.&nbsp; Paste this template entry into the "configs.xml" on computer B.&nbsp; Make sure to keep the format of the xml file.&nbsp; Do not change the beginning or the end of the file.&nbsp; Be warned - xml is very picky!<br>
5.&nbsp; Restart computer B.<br>
<br>

<h4>The Options Connections Tab</h4> 

<p>This tab has a new layout and works like this:<br>
<ul>
<li>Click a connection to select it.&nbsp;  Click again to unselect it.</li>
<li>To edit or remove a connection, select it.</li>
<li>To "Add a Connection", make sure that no connection is selected. </li>
</ul> 
The only really new feature is the possibility to add personal comments to each connection.<br>

<br>

<h4>Routes and Waypoints</h4>

<p>The visibility of way-points, including route-points, can now be adjusted to show either always, above a certain chart-scale or never.&nbsp;  This will help greatly to decrease clutter when you have a lot of marks.<br>
Old marks and waypoints will be in "always show" mode, as usual, to start with.<br>

<br><img src="50info/wptprop.jpg" alt="" title="" /><br><br>

<p>Some news on the waypoint properties “Extended” tab.&nbsp;  “Show at scale >1:”&nbsp;   is where a minimum scale to show the waypoint is set.&nbsp;  The grayed out big number you see is just to show the smallest scale that OpenCPN can accept, and should have no practical implication.<br>
At the bottom of the dialog you can connect the waypoint with a tidal station.&nbsp;  Press “v” to see available tidal stations and then “~” to display the tides.<br>

<br><img src="50info/rteptprop.jpg" alt="" title="" /><br><br>
The box GUID contains information for editing gpx files.<br>
Knowing the GUID is good to be able to find a specific object in OpenCPN's GPX data when processed in a text editor.<br>


In routepoint properties, some options are moved from the basic tab to the extended tab, which also includes a few new items described earlier or well known.<br>

<br><img src="50info/rteprop.jpg" alt="" title="" /><br><br>

The Route properties dialog has been reworked and expanded with an Advanced tab for a description of the route and for links.</p><br>

<h4>The Options-Ships-Routes/Points Tab</h4>

<img src="50info/routes-points.jpg" alt="" title="" /><br><br>

<p>This new tab includes some option that has been moved from other tabs as well as new options.&nbsp; 
It is now possible to set the default icons used when creating waypoints and routes.<br><br>

<h4>Other Options that Affect Waypoints Visibility and Routes</h4>

<p>The 'V' hotkey turns off all waypoints, routes, and tracks on the chart display. &nbsp; For dual display, it will turn these off in the chart display that is active.<br>
In the Routes & Mark Manager Waypoint Tab, the first two columns are about the visibility. &nbsp;  

<br>
In the “Icon” column you can toggle the visibility by clicking the individual icon.<br>
In the second, “Scale” Column the visibility scale is listed.&nbsp;  This value only kicks in if the first column is set to show the waypoint icon.<br>

It is now possible to create a new route via the right-click menu. &nbsp; The same menu also now has the option “Toggle full screen”.<br>
<br>
<h4>Using Active Routes</h4>

<img src="50info/routeall.jpg" alt="" title="" /><br>


<p>In the console widget that pops up on activating a route...<br>
Clicking on the console cycles between the speed used for the calculations, instead of the original 2 states it now has 4 states:<br>

Current Leg Using SOG to compute TTG<br>
Current Leg Using VMG to compute TTG<br>
Entire Route Using VMG to compute TTG and ETA<br>
Entire Route Using SOG to compute TTG and ETA<br>
<br>



<br>
<img src="50info/perslay1.jpg" alt="" title="" /><br><br>

<h4>Persistent Layers</h4>
<p>Creating Layers in OpenCPN is now much easier.<br>
A new button "Create Persistent Layer" in the Route & Mark Managers Layers Tab, copies the selected gpx file directly to the correct place.<br>
It's called persistent as it will be available as a layer on restart.<br>
A new column in the dialog tells if a layer is temporary or persistent.<br><br>

<img src="50info/perslay2.jpg" alt="" title="" /><br><br>
When a Persistent layer is deleted, corresponding file is also deleted from the "layers" folder.<br><br>

<h4>Options-User Interface</h4>

<p>The option “Toolbar and Windows Style” is gone.&nbsp;  Only the new default style is available.<br>
Windows user have the ability to edit the “Audio Play Command”, but the default should just work.<br>
The Option “Sound Device Index” is replaced by a list of choices in “Sound Device”.<br> 
There could be a few options in Linux while there may just be “Unknown device:0” in Windows.<br>
The defaults should just work in almost all cases.</p><br>

<h4>Built in Plugins </h4>
<p>Grib graphics, like wind arrows, are shown on the right canvas only.<br> 
The WMM plugin, displaying world magnetics info, has been updated with latest available data.<br>
<br>

<h4>Change in some Standard Waypoint Icons</h4>
<p>Some of the marker icons that come with OpenCPN have been adjusted.<br><br>




<img src="50info/mark1.jpg" alt="" title="" /><br>

<p>The left east cardinal mark is from a vector chart.&nbsp; The right is a waypoint marker icon.&nbsp; The position of the left marker is at the center of the circle along the baseline.&nbsp;  The position of the right marker is now in the same place, even though the circle is absent.<br><br>

<img src="50info/mark2.jpg" alt="" title="" /><br>

The markers of type "Symbol-Pin-color" and "Symbol-Spot-color" have their position at the sharp point.<br>
All other Standard Waypoint Icons are approximately centered in the middle of the icons.<br><br>

<h4>Expanded Vector Chart Information</h4>

<p>Many vector charts have built in links to files that come with the chart.<br>
Those files can be text or pictures.&nbsp; For example, it's quite common that inland charts, both US and European, have pictures of bridges.<br>
In 05 these new links will be obvious when doing an Object Query, also called a cursor pick.<br><br>

<img src="50info/bridge1.jpg" alt="" title="" /><br>

This is from a Swiss inland ENC.&nbsp;  Double click on the bridge to get the dialog "Object Query" then click the blue underlined link and get the picture of the bridge.<br><br>

<img src="50info/bridge2.jpg" alt="" title="" /><br>
Here is a US example from the Miami area.<br><br>

<h4>Preprocessing S57 and S63 Charts</h4>

<img src="50info/prepvc.jpg" alt="" title="" /><br><br>

<p>Creating SENC charts from vector charts the first time they are used, now happens in the background.&nbsp; The user can continue to use OpenCPN while this happens. &nbsp; The newly processed charts will be directly available when they are ready.&nbsp; During this process the background map changes colors to those of vector charts. &nbsp; Note that only visible charts will be processed.<br>
To process all charts in one go, use Options-Charts-Chart Files-Prepare all ENC charts.&nbsp; No change from 4.8.8.<br><br>

<h4>Warning for Empty Chart Groups</h4> 

<p>This warning is very important if you start with an empty chart group. &nbsp;  For some reason, it prevents you from seeing any charts.&nbsp; The first response should be to change to a chart group with charts in, for example, "All Active Charts" shortcut "0" (zero).<br><br>

<h4>New Chart Format Supported</h4>

<p>OpenCPN now supports MBTiles with the .mbtiles file extension and requires that OpenGL is on in Options-Display-Advanced.&nbsp;  Trying MBTiles without OpenGL will create a yellow popup warning just above the chart-bar.&nbsp; "MBTile requires OpenGL to be enabled"<br>

<p>MBTiles are colored "Violet" in the chartbar to separate them from other chart formats.<br><br>

<img src="50info/MBT1.jpg" alt="" title="" /><br><br>

<p>OpenCPN treats the MBTile format different from normal raster and vector charts.&nbsp;  MBtiles are NOT fully capable and quiltable charts.&nbsp;   They are used as switchable overlays.&nbsp;  This is seen as the best compromise considering the unknowable zoom composition and accuracy of tilesets loaded from unknown sources.<br>

<p>MBTiles are shown as switchable overlays to whatever base chart sets are loaded. &nbsp; In the picture above, the background map is the base-map and the MBTiles is a satpic overlay.&nbsp;  There are four charts in the chart-bar.&nbsp;  All are MBTiles.&nbsp;  Three are of a darker shade with a red "X".&nbsp;  One is a lighter shade of violet and represents the visible satpic.&nbsp;  Left click on a MBTiles piano key is a visibility toggle shortcut.&nbsp;  Same effect as Right-click->"hide" on a piano key.&nbsp;  Clicking on one of the darker shade buttons makes that MBTile chart visible.&nbsp;  The button changes to a lighter shade and the red "X" disappears.<br>

<p>With MBTiles it's advisable to show the charts outline - use the "O" shortcut key.&nbsp;  If a chart is not visible, and there is no red "X" on the piano key, zoom in until it's visible.<br>

<p>MBTiles use the Web Mercator projection, with possible quite large errors in geo referencing.&nbsp;   In real life these large errors are hard to find.<br>

<p><a href="https://tileservice.charts.noaa.gov/tileset.html#50000_1-locator" target="_blank">NOAA has tile-sets available for all their charts</a>.&nbsp; There is however, no good reason to use this service as the tile-set will be much larger than corresponding kap chart sets.

<h6 class="text-danger">For reasons mentioned above, the NOAA tile-sets do not fulfill the chart requirements for commercial shipping.</h6>


<br><br>
<h4>Chart Sources</h4>

<p>Allow chart source master catalog update from the internet.<br>

<img src="50info/chdow.jpg" alt="" title="" /><br><br>
<p>In Options->Plugins->ChartDownloader->Preferences there is a new Button, called "Update chart source catalog".&nbsp;  The button allows the user to update the list of support chart catalog.&nbsp; Previously the user had to replace the data file in the install location. <br><br>


<h4>AIS Improvements</h4>

<p>The column order, in the AIS target list dialog, will now be saved and reloaded in the same way as the column width. <br>
Waypoints created from the AIS target list dialog, will now have a useful name, consisting of target name, MMSI number and a time stamp.<br>

<p>Enhancements to the AIS and DSC handling as requested by SAR services:<br>

<ul>
    <li>DSC position and distress report target names changed to include MMSI, to allow easy identification of the vessel in distress or reporting position<br></li>
    
    <li>The maximum allowed length of the AIS target track may be extended beyond 300 minutes by setting key "TargetTracksLimit" in Settings/AIS section of opencpn.ini(conf)</li>
</ul> <br>

<br>

<h4>Miscellaneous</h4>
<p>Higher baud rates are now available for all architectures.<br>
This means that OpenCPN is now available for a range of new electronics.<br>
A depth offset feature is now available in the Dashboard.<br>
The Grib plugin uses only the right pane if opened multi-canvas mode.<br>
</div></div></div>
<br></div><br><br><br><br>  		
</body>
</html
